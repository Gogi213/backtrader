# TUI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è HFT –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–≤–∞ –±—ã—Å—Ç—Ä—ã—Ö –∫–æ–Ω—Å–æ–ª—å–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –±–µ–∑ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ GUI:

## –í–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. CLI Optimizer (–°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –≤–∞—Ä–∏–∞–Ω—Ç)
–ü—Ä–æ—Å—Ç–∞—è –∫–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

**–ó–∞–ø—É—Å–∫:**
```bash
python cli_optimizer.py --strategy hierarchical_mean_reversion --data upload/klines/ASTERUSDT-klines-10s-2025-09-20_to_2025-09-21.csv --trials 50 --jobs 4
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `--strategy, -s`: –ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: hierarchical_mean_reversion)
- `--data, -d`: –ü—É—Ç—å –∫ CSV —Ñ–∞–π–ª—É —Å –¥–∞–Ω–Ω—ã–º–∏
- `--symbol`: –¢–æ—Ä–≥–æ–≤—ã–π —Å–∏–º–≤–æ–ª (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: BTCUSDT)
- `--trials, -t`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å–ø—ã—Ç–∞–Ω–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 50)
- `--metric, -m`: –ú–µ—Ç—Ä–∏–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (sharpe_ratio, net_pnl, profit_factor, win_rate, net_pnl_percentage)
- `--jobs, -j`: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è (-1 –¥–ª—è –≤—Å–µ—Ö —è–¥–µ—Ä)
- `--timeout`: –õ–∏–º–∏—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
- `--min-trades`: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫
- `--max-drawdown`: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞ –≤ %
- `--list-strategies`: –ü–æ–∫–∞–∑–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

**–ü—Ä–∏–º–µ—Ä—ã:**
```bash
# –ë—ã—Å—Ç—Ä–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å 50 –∏—Å–ø—ã—Ç–∞–Ω–∏—è–º–∏
python cli_optimizer.py --trials 50

# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ –º–µ—Ç—Ä–∏–∫–µ P&L —Å 4 —è–¥—Ä–∞–º–∏
python cli_optimizer.py --metric net_pnl --jobs 4

# –ü–æ–∫–∞–∑–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
python cli_optimizer.py --list-strategies
```

### 2. TUI Interface (–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª)
–ë–æ–ª–µ–µ —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –º–µ–Ω—é –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞–º–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ.

**–ó–∞–ø—É—Å–∫:**
```bash
python tui_runner.py
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –¢–∞–±–ª–∏—Ü—ã —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã (—Å—Ç—Ä–µ–ª–∫–∏, Tab, Enter)
- –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏: `q` - –≤—ã—Ö–æ–¥, `r` - –∑–∞–ø—É—Å–∫, `c` - –æ—á–∏—Å—Ç–∫–∞

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑–∞–ª–æ –æ—Ç–ª–∏—á–Ω—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- **10 –∏—Å–ø—ã—Ç–∞–Ω–∏–π** –∑–∞–≤–µ—Ä—à–∏–ª–∏—Å—å –∑–∞ **64.66 —Å–µ–∫—É–Ω–¥—ã**
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** –Ω–∞ 2 —è–¥—Ä–∞—Ö
- **Sharpe Ratio**: 8.87
- **18 —Å–¥–µ–ª–æ–∫** –≤ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º –±—ç–∫—Ç–µ—Å—Ç–µ

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å GUI

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | CLI | TUI | GUI (PyQt) |
|---------------|-----|-----|------------|
| –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞ | ‚ö° –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è | ‚ö° –ë—ã—Å—Ç—Ä–∞—è | üêå –ú–µ–¥–ª–µ–Ω–Ω–∞—è |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ | üîã –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ | üîã –ù–∏–∑–∫–æ–µ | üîã –í—ã—Å–æ–∫–æ–µ |
| –ù–∞–≥—Ä—É–∑–∫–∞ CPU | ‚ö° –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è | ‚ö° –ù–∏–∑–∫–∞—è | üêå –í—ã—Å–æ–∫–∞—è |
| –£–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è | üëç –°—Ä–µ–¥–Ω–µ–µ | üëç –í—ã—Å–æ–∫–æ–µ | üëç –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ |
| –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è | üëç –û—Ç–ª–∏—á–Ω–∞—è | üëç –•–æ—Ä–æ—à–∞—è | üëç –ü–ª–æ—Ö–∞—è |

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **CLI Optimizer** –¥–ª—è –ø–∞–∫–µ—Ç–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤
- –û—Ç–∫–ª—é—á–∏—Ç–µ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π –≤—ã–≤–æ–¥ –≤ production
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### –î–ª—è —É–¥–æ–±—Å—Ç–≤–∞:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **TUI Interface** –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –ª—É—á—à–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ **CLI Optimizer** –≤ —Å–∫—Ä–∏–ø—Ç—ã
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ JSON –≤—ã–≤–æ–¥ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —Å cron/Task Scheduler

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install textual rich optuna numpy pandas
```

## –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞

- `cli_optimizer.py` - CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `tui_runner.py` - TUI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `src/tui/optimization_app.py` - –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å TUI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `src/optimization/fast_optimizer.py` - –û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä Optuna

## –°–æ–≤–µ—Ç—ã –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**: –î–∞–Ω–Ω—ã–µ –∫—ç—à–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ `optimization_cache/`
2. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--jobs -1` –¥–ª—è –≤—Å–µ—Ö —è–¥–µ—Ä
3. **–õ–∏–º–∏—Ç—ã –≤—Ä–µ–º–µ–Ω–∏**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `--timeout` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥–æ–ª–≥–∏—Ö –∑–∞–ø—É—Å–∫–æ–≤
4. **–ú–µ—Ç—Ä–∏–∫–∏**: –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â—É—é –º–µ—Ç—Ä–∏–∫—É –¥–ª—è –≤–∞—à–µ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
5. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `--min-trades` –∏ `--max-drawdown` –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–ª–æ—Ö–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
python cli_optimizer.py --strategy hierarchical_mean_reversion --data upload/klines/ASTERUSDT-klines-10s-2025-09-20_to_2025-09-21.csv --trials 10 --jobs 2 --symbol ASTERUSDT
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–æ–∫–∞–∑–∞–ª–∞ –æ—Ç–ª–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å Sharpe Ratio 8.87 –∏ –≤—Ä–µ–º–µ–Ω–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è ~65 —Å–µ–∫—É–Ω–¥.